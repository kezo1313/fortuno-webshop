{% sw_extends '@Storefront/storefront/layout/header/actions/wishlist-widget.html.twig' %}

{# FreeThemeOne 'layout/header/actions/wishlist-widget.html.twig' #}

{# ---------------- START: SET TEMPLATE VARS ---------------- #}

{# FreeThemeOne: Set theme variables #}
{% set iconPack = theme_config('ft-icon-set') %}

{# ---------------- END: SET TEMPLATE VARS ---------------- #}

{# FreeThemeOne: Adjust icon #}
{% block layout_header_actions_wishlist_widget %}
    {% set showCounter = showCounter ?? true %}

    {% if showCounter %}
        <span class="header-wishlist-icon">
            {% if iconPack == "feather" %}
                {% sw_icon 'heart' style { pack: iconPack } %}
            {% else %}
                {# Default icon #}
                {% sw_icon 'heart' %}
            {% endif %}
        </span>
    {% endif %}

    {% set wishlistStorageOptions = {
        listPath: path('frontend.wishlist.product.list'),
        mergePath: path('frontend.wishlist.product.merge'),
        pageletPath: path('frontend.wishlist.product.merge.pagelet'),
    } %}

    {% set wishlistWidgetOptions = { showCounter: showCounter } %}

    <span class="badge bg-primary header-wishlist-badge"
          id="wishlist-basket"
          data-wishlist-storage="true"
          data-wishlist-storage-options="{{ wishlistStorageOptions|json_encode }}"
          data-wishlist-widget="true"
          data-wishlist-widget-options="{{ wishlistWidgetOptions|json_encode }}"
          aria-labelledby="wishlist-basket-live-area"
    ></span>

    <span class="visually-hidden"
          id="wishlist-basket-live-area"
          data-wishlist-live-area-text="{{ 'header.wishlistAriaLiveTemplate'|trans }}"
          aria-live="polite"
    ></span>
{% endblock %}
