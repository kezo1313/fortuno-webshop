{% sw_extends '@Storefront/storefront/layout/navigation/offcanvas/categories.html.twig' %}

{# FreeThemeOne 'layout/navigation/offcanvas/categories.html.twig' #}

{# ---------------- START: SET TEMPLATE VARS ---------------- #}
{# ---------------- END: SET TEMPLATE VARS ---------------- #}

{# FreeThemeOne: Switch 'back' and 'active item' links and add wrapper around 'back' and 'home' link #}
{% block layout_navigation_offcanvas_navigation_categories %}
    <div class="navigation-offcanvas-content{% if isRoot %} navigation-offcanvas-root{% endif %}">
        {% if not isRoot %}
            {# FreeThemeOne: Add wrapper arround back and home link to have both links beside each other #}
            <div class="navigation-offcanvas-content-row">
                {% sw_include '@Storefront/storefront/layout/navigation/offcanvas/back-link.html.twig' with { item: active } %}
                
                {% sw_include '@Storefront/storefront/layout/navigation/offcanvas/show-all-link.html.twig' %}
            </div>

            {% sw_include '@Storefront/storefront/layout/navigation/offcanvas/active-item-link.html.twig' with { item: active } %}
        {% else %}
            {% sw_include '@Storefront/storefront/layout/navigation/offcanvas/general-headline.html.twig' %}
        {% endif %}

        <ul class="list-unstyled navigation-offcanvas-list">
            {% if not isRoot and active.type != 'folder' %}
                {% sw_include '@Storefront/storefront/layout/navigation/offcanvas/show-active-link.html.twig' with { item: active } %}
            {% endif %}

            {# @var item \Shopware\Core\Content\Category\Tree\TreeItem #}
            {% for item in children.tree %}
                {% sw_include '@Storefront/storefront/layout/navigation/offcanvas/item-link.html.twig' with { item: item, activeId: activeId } %}
            {% endfor %}
        </ul>
    </div>
{% endblock %}
